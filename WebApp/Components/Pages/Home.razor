@page "/"
@inject NavigationManager NavigationManager
@inject IJSRuntime JSRuntime

<h3>Welcome to the Logistics Management System</h3>

<div class="home-container">
    <button class="btn btn-primary" @onclick="NavigateToLogin">Login</button>
</div>

@code {
    private void NavigateToLogin()
    {
        var token = GetToken();
        if (string.IsNullOrEmpty(token))
        {
            NavigationManager.NavigateTo("/login");
        }
        else
        {
            NavigationManager.NavigateTo("/file-upload");
        }
    }

    private string GetToken()
    {
        return (string)JSRuntime.InvokeAsync<string>("localStorage.getItem", "authToken").Result;
    }
}